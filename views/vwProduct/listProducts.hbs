<div>
    <h4 id="top5" style="text-align: left;"> {{catName}} </h4>
</div>

<div class="container">
    {{#if this.empty}}
    <div class="CSSTableGenerator">
        <table ID="myTable">
            <p> Không có dữ liệu.</p>
        </table>
    </div>
    {{else}}
    <div class="CSSTableGenerator">
        <table ID="myTable">
            <div class="card-body">
                <div class="row">
                    {{#each this.products}}
                    <div class="col-sm-3 card border-0 mb-3 shadow-sm h-100s">
                        <a style="color:black; text-decoration: none;" href="{{catName}}/{{id}}">
                            <img src="/imgs/sp/{{id}}/main.jpg" height="230px" alt="{{name}}" title="{{name}}"
                                class="card-img-top">
                            <div class="card-body">
                                <h6 id="nearlyFi" class="card-title">{{name}}</h6>
                                <p id="price">{{format current_price}}đ</p>
                                <small class="text-muted">
                                    <p id="nearlyFi" class="card-text">Người ra giá cao nhất: {{full_name}}</p>
                                    {{#if instant_price}}
                                    <p id="nearlyFi" class="card-text now_price">Giá mua ngay: {{format instant_price}}đ
                                    </p>
                                    {{/if}}
                                    <p id="nearlyFi" class="card-text">Ngày đăng: {{start_date}}</p>
                                    <p id="nearlyFi" class="card-text">Thời điểm kết thúc: {{end_date}}</p>
                                    <p id="nearlyFi" class="card-text">Số lượt ra giá: 300 </p>
                                </small>
                                <span class="my-2">
                                    <span class="fa fa-star checked"></span>
                                    <span class="fa fa-star checked"></span>
                                    <span class="fa fa-star checked"></span>
                                    <span class="fa fa-star checked"></span>
                                    <span class="fa fa-star-o checked"></span>
                                </span>
                            </div>
                        </a>
                        <div id="favorite" class="mb-0">
                            <i class="heart fa fa-heart-o"></i>
                        </div>
                    </div>
                    {{/each}}
                </div>
            </div>
            {{/if}}
        </table>
        <nav aria-label="Page navigation" class="mt-10">
            <ul class="pagination justify-content-center">
                {{#if isMinPage}}
                <li class="page-item">
                    <a class="page-link" href="?page={{prev_value}}" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
                {{/if}}
                {{#each page_numbers}}
                {{#if isCurrentPage}}
                <li class="page-item active"><a class="page-link" href="#">{{value}}</a></li>
                {{else}}
                <li class="page-item"><a class="page-link" href="   ?page={{value}}">{{value}}</a></li>
                {{/if}}
                {{/each}}
                {{#if isMaxPage}}
                <li class="page-item">
                    <a class="page-link" href="?page={{next_value}}" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
                {{/if}}
            </ul>
        </nav>
    </div>
</div>
<script>
    $(".heart.fa").click(function () {
        $(this).toggleClass("fa-heart fa-heart-o");
    });
</script>
<script>
    var elements = document.getElementsByClassName("column");
    var i;
    function gridView() {
        for (i = 0; i < elements.length; i++) {
            elements[i].style.width = "25%";
        }
    }
</script>